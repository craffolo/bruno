<!-- gallery.html (modificata) -->
<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Galleria — Videomaker</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" async></script>
  <script src="https://unpkg.com/@barba/core@2.9.7/dist/barba.umd.js"></script>
  <script src="js/main.js" defer></script>
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <a href="index.html"><img src="media/static/logo.png" alt="Logo" class="logo"></a>
    </div>

    <nav class="main-nav" aria-label="Main navigation">
      <button id="navToggle" class="hamburger" aria-expanded="false" aria-label="Apri menu">
        <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" fill="none"></path></svg>
      </button>

      <ul class="nav-list" id="navList" role="menubar">
        <li role="none"><a role="menuitem" href="gallery.html" data-nav>Portfolio</a></li>
        <li role="none"><a role="menuitem" href="about.html" data-nav>About</a></li>
      </ul>
    </nav>
  </header>

  <div id="barba-wrapper">
    <div class="barba-container" data-barba="container" data-barba-namespace="gallery">
      <main>
        <h1 class="page-title">Portfolio</h1>

        <nav class="category-nav" aria-label="Categorie video">
          <ul id="categoryList" class="category-list"></ul>
        </nav>

        <!-- gallery player: doppio video per crossfade -->
        <section class="carousel carousel--gallery" id="galleryCarouselSection" aria-roledescription="gallery player">
          <div class="gallery-player" aria-hidden="false" role="region" aria-label="Player galleria">
            <video class="gallery-video layer-a" playsinline></video>
            <video class="gallery-video layer-b" playsinline></video>

            <!-- play/pause overlay (centrato) -->
            <div class="play-overlay" aria-hidden="true" role="button" tabindex="-1">
              <!-- SVG icon (uses CSS classes to switch play/pause via .paused class) -->
              <svg class="icon-play" viewBox="0 0 64 64" width="64" height="64" aria-hidden="true">
                <path d="M16 12v40l36-20z" fill="currentColor"></path>
              </svg>
              <svg class="icon-pause" viewBox="0 0 64 64" width="64" height="64" aria-hidden="true" style="display:none">
                <path d="M18 12h8v40h-8zM38 12h8v40h-8z" fill="currentColor"></path>
              </svg>
            </div>

            <!-- progress bar (TikTok style) with buffer indicator -->
            <div class="progress-wrap" aria-hidden="true">
              <div class="progress-buffer"></div>
              <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
            </div>
          </div>

          <button id="muteToggleGallery" class="mute-toggle" aria-pressed="false" aria-label="Disattiva audio"> ... </button>

          <div class="carousel-overlay gallery-overlay" aria-hidden="false">
            <div class="carousel-bottom" role="group" aria-label="Controlli gallery">
              <button id="gPrevBtn" class="control-btn" aria-label="Video precedente">⟵</button>
              <div class="carousel-text" tabindex="0">
                <span class="carousel-title" id="galleryTitle" aria-live="polite"></span>
              </div>
              <button id="gNextBtn" class="control-btn" aria-label="Video successivo">⟶</button>
            </div>
          </div>
        </section>



        <div class="gallery-grid" id="galleryGrid" aria-live="polite"></div>
      </main>
    </div>
  </div>
</body>
</html>
