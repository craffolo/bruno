<!-- gallery.html (modificata) -->
<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Galleria — Videomaker</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" async></script>
  <script src="https://unpkg.com/@barba/core@2.9.7/dist/barba.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="js/main.js" defer></script>
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <a href="index.html"><img src="media/static/logo.png" alt="Logo" class="logo"></a>
    </div>

    <nav class="main-nav" aria-label="Main navigation">
      <button id="navToggle" class="hamburger" aria-expanded="false" aria-label="Apri menu">
        <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" fill="none"></path></svg>
      </button>

      <ul class="nav-list" id="navList" role="menubar">
        <li role="none"><a role="menuitem" href="gallery.html" data-nav>Portfolio</a></li>
        <li role="none"><a role="menuitem" href="about.html" data-nav>About</a></li>
      </ul>
    </nav>
  </header>

  <div id="barba-wrapper">
    <div class="barba-container" data-barba="container" data-barba-namespace="gallery">
      <main class="page-gallery">
        <nav class="category-nav" aria-label="Categorie video">
          <ul id="categoryList" class="category-list"></ul>
        </nav>

        <!-- gallery player: doppio video per crossfade -->
        <section class="carousel carousel--gallery" id="galleryCarouselSection" aria-roledescription="gallery player">
          <div class="gallery-player" aria-hidden="false" role="region" aria-label="Player galleria">
            <video class="gallery-video layer-a" playsinline></video>
            <video class="gallery-video layer-b" playsinline></video>

            <!-- top overlay: mute (sotto) + fullscreen (sopra) stacked vertically -->
            <div class="top-overlay" aria-hidden="false" aria-label="Controlli video superiori">
              <button class="top-btn fs-btn" aria-pressed="false" aria-label="Attiva schermo intero">
                <svg class="icon-fs" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path class="enter" d="M7 14H5v5h5v-2H7v-3zM19 5h-5v2h3v3h2V5zM7 7h3V5H5v5h2V7zM17 17v-3h2v5h-5v-2h3z" fill="currentColor"></path>
                  <path class="exit" d="M5 5h7v2H7v5H5V5zm14 14h-7v-2h5v-5h2v7z" fill="currentColor" style="display:none"></path>
                </svg>
              </button>

              <button class="top-btn mute-btn" aria-pressed="false" aria-label="Disattiva audio">
                <svg class="icon-speaker" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path class="sp" d="M5 9v6h4l5 4V5L9 9H5z" fill="currentColor"></path>
                  <path class="waves" d="M16.5 8.5a3.5 3.5 0 010 7" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                  <path class="cross" d="M19 8l-2 2M19 10l-2-2" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" fill="none" opacity="0"></path>
                </svg>
              </button>
            </div>

            <!-- bottom overlay: play/pause overlay (centrato) + spinner (buffering) -->
            <div class="play-overlay" aria-hidden="true" role="button" tabindex="-1" aria-live="polite">
              <svg class="buffer-spinner" viewBox="0 0 50 50" width="44" height="44" aria-hidden="true" style="display:none">
                <circle cx="25" cy="25" r="20" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-dasharray="31.415, 31.415" fill="none" opacity="0.12"></circle>
                <path class="spinner-head" d="M45 25a20 20 0 0 1-20 20" stroke="currentColor" stroke-width="4" stroke-linecap="round" fill="none"></path>
              </svg>

              <svg class="icon-play" viewBox="0 0 64 64" width="64" height="64" aria-hidden="true">
                <path d="M16 12v40l36-20z" fill="currentColor"></path>
              </svg>

              <svg class="icon-pause" viewBox="0 0 64 64" width="64" height="64" aria-hidden="true" style="display:none">
                <rect x="18" y="12" width="8" height="40" rx="2" fill="currentColor"></rect>
                <rect x="38" y="12" width="8" height="40" rx="2" fill="currentColor"></rect>
              </svg>
            </div>

            <!-- progress bar (TikTok style) with buffer indicator -->
            <div class="progress-wrap" aria-hidden="true">
              <div class="progress-buffer"></div>
              <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
            </div>
          </div>

          <div class="carousel-overlay gallery-overlay" aria-hidden="false">
            <div class="carousel-bottom" role="group" aria-label="Controlli gallery">
              <button id="gPrevBtn" class="control-btn" aria-label="Video precedente">⟵</button>
              <div class="carousel-text" tabindex="0">
                <span class="carousel-title" id="galleryTitle" aria-live="polite"></span>
              </div>
              <button id="gNextBtn" class="control-btn" aria-label="Video successivo">⟶</button>
            </div>
          </div>
        </section>

        <div class="gallery-grid" id="galleryGrid" aria-live="polite"></div>
      </main>
    </div>
  </div>
</body>
</html>


