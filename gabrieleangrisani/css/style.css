:root{
  --bg: #0b0b0b;
  --muted: #bdbdbd;
  --accent: #ffdd55;
  --glass: rgba(0,0,0,0.45);
  --header-glass: rgba(0,0,0,0.45);
  --card: #0f0f0f;
}

/* Reset + base */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;background:var(--bg);color:#fff;font-family:"Futura",system-ui,-apple-system,"Segoe UI",Roboto,Arial;line-height:1.5;-webkit-font-smoothing:antialiased}
#barba-wrapper,.barba-container{background:transparent;min-height:100vh}
body.no-scroll{overflow:hidden}

/* mobile dropdown default hidden (important!) */
.mobile-dropdown{display:none}

/* ---------- HEADER ---------- */
.site-header{
  position:sticky;
  top:0;
  left:0;
  right:0;
  height:80px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
  z-index:2400;
  background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.25));
  backdrop-filter: blur(8px);
  border-bottom:1px solid rgba(255,255,255,0.03);
}

/* brand left */
.brand{display:flex;align-items:center;gap:12px}
.logo{height:56px;width:auto;object-fit:contain}

/* nav container (desktop inline) */
.main-nav{display:flex;align-items:center;gap:12px;}

/* hamburger: visible on mobile only */
.hamburger{
  display:none;
  background:none;border:none;color:#fff;cursor:pointer;padding:8px;border-radius:8px;
}
.hamburger svg{opacity:0.95}

/* primary nav list - desktop style */
.nav-list{
  list-style:none;
  display:flex;
  gap:12px;
  align-items:center;
}
.nav-list li a{
  color:#fff;
  text-decoration:none;
  padding:8px 12px;
  border-radius:8px;
  border:1px solid transparent;
  transition:all .22s ease;
  font-weight:600;
}
.nav-list li a:hover, .nav-list li a:focus{
  /* replaced border-hover with glow (handled in hover below) */
  outline: none;
}

/* ---------- LAYOUT ---------- */
/* reduce the top padding so content starts immediately under header */
main{padding-top:80px}
.page-title{padding:8px 20px 0;font-size:1.6rem;text-align:center}

/* ---------- CAROUSEL ---------- */
.carousel{position:relative;width:100%;margin:8px auto 24px;border-radius:12px;overflow:hidden;background:#000;display:flex;align-items:center;justify-content:center;box-shadow:0 30px 80px rgba(0,0,0,.6)}
.carousel--full{height:calc(100vh - 110px);max-height:980px}
.carousel--gallery{height:60vh;max-height:640px;margin:28px auto;border-radius:12px;width:90%;max-width:1100px}
.carousel-video{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .36s;filter:saturate(.98) contrast(1.02)}
.carousel-overlay{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:flex-end;background:linear-gradient(180deg,rgba(0,0,0,0.05),rgba(0,0,0,0.6));opacity:0;transition:opacity .22s;pointer-events:none}
.carousel:hover .carousel-overlay,.carousel-overlay.force-visible{opacity:1}
.carousel-bottom{display:flex;align-items:center;justify-content:space-between;padding:18px 28px;pointer-events:none;gap:12px;width:100%;z-index:11}
.carousel-bottom .control-btn,.carousel-bottom .carousel-text{pointer-events:auto}

/* minimal buttons: glow on hover (instead of plain border) */
.control-btn{
  background:none;
  border:1px solid transparent;
  color:#fff;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
  transition:all .22s ease;
  font-size:1.2rem;
  font-weight:500;
  box-shadow: none;
}
.control-btn:hover{
  background: rgba(255,255,255,0.02);
  box-shadow: 0 8px 28px rgba(255,221,85,0.10), 0 2px 8px rgba(0,0,0,0.5);
  transform: translateY(-2px);
}

/* title link - glow on hover */
.carousel-text{flex:1;text-align:center}
.carousel-text a{display:inline-block;text-decoration:none;color:inherit;padding:8px 18px;border-radius:8px;border:1px solid transparent;transition:all .22s}
.carousel-text a:hover{
  background: rgba(255,255,255,0.02);
  box-shadow: 0 10px 30px rgba(255,221,85,0.12);
  transform: translateY(-2px);
}
.carousel-title{font-size:2.6rem;text-transform:uppercase;letter-spacing:-1px;margin-bottom:6px}
.carousel-desc{color:var(--muted);font-size:1rem;margin-top:4px}

/* ---------- MUTE TOGGLE (top-right, outside overlay) ---------- */
.mute-toggle{
  position:absolute;
  top:14px;
  right:14px;
  width:48px;height:48px;border-radius:999px;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;z-index:9999;background:none;border:1px solid transparent;transition:all .18s;
  pointer-events:auto;
}
.mute-toggle:hover{background:rgba(255,255,255,0.03);border-color:rgba(255,255,255,0.14);transform:scale(1.04)}
.mute-toggle .icon-speaker{color:#fff;opacity:.95;transition:all .18s}
.mute-toggle.muted .icon-speaker{color:#aaa}
.mute-toggle .cross{opacity:0}
.mute-toggle.muted .waves{opacity:0}
.mute-toggle.muted .cross{opacity:1}

/* ---------- GALLERY GRID ---------- */
.gallery-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px;padding:20px;max-width:1200px;margin:0 auto 80px}
.grid-item{background:var(--card);border-radius:10px;overflow:hidden;text-decoration:none;color:inherit;position:relative;transition:transform .28s,box-shadow .28s}
.grid-item:hover{transform:translateY(-6px);box-shadow:0 14px 40px rgba(0,0,0,.6)}
.grid-item video{width:100%;height:170px;object-fit:cover;display:block;background:#000}
.preview-info{padding:10px 12px;color:#fff}
.hover-overlay{position:absolute;inset:0;background:linear-gradient(0deg,rgba(0,0,0,.25),rgba(0,0,0,0));opacity:0;transition:opacity .18s}
.grid-item:hover .hover-overlay{opacity:1}

/* ---------- CATEGORY NAV ---------- */
.category-nav{display:flex;justify-content:center;padding:18px 12px}
.category-list{display:flex;gap:10px;list-style:none;overflow-x:auto;padding:6px 12px;margin:0}
.category-list li button{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.04);padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;white-space:nowrap}
.category-list li button.active{background:linear-gradient(90deg,#000,#111);border-color:rgba(255,255,255,.09);color:var(--accent);transform:translateY(-4px)}

/* ---------- ABOUT ---------- */
.bio{padding:120px 20px 60px;text-align:center}
.bio-card{background:linear-gradient(180deg,#111,#000);border:1px solid rgba(255,255,255,.08);padding:40px;border-radius:16px;margin:0 auto;max-width:520px;box-shadow:0 20px 60px rgba(0,0,0,.7)}
.profile-img{width:150px;height:150px;object-fit:cover;border-radius:50%;margin-bottom:12px;transition:transform .36s}
.bio-card h2{margin-top:10px;font-size:2rem}
.role{color:var(--accent);font-weight:600;margin-bottom:20px}
.facts{list-style:none;opacity:0;transform:translateY(10px);transition:opacity .8s,transform .8s}
.facts.visible{opacity:1;transform:none}
.facts li{margin:6px 0;color:var(--muted)}
.bio-text{max-width:720px;margin:40px auto;line-height:1.6;color:#e1e1e1}
.bio-contact{margin-top:60px;background:#0e0e0e;border-radius:12px;padding:30px;max-width:600px;margin-left:auto;margin-right:auto}
.bio-contact a{color:var(--accent);text-decoration:none;font-weight:600}
.socials a{margin:0 10px;color:#fff}

/* timeline */
.timeline{max-width:1200px;margin:40px auto;padding:0 20px}
.time-track{display:flex;gap:16px;overflow-x:auto;padding:12px 6px}
.time-item{min-width:200px;background:#111;padding:16px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);text-align:left;transition:transform .3s,box-shadow .3s}
.time-item strong{display:block;font-size:1.1rem;margin-bottom:6px;color:var(--accent)}
.time-item span{color:var(--muted)}
.time-item:hover{transform:translateY(-6px);box-shadow:0 18px 60px rgba(0,0,0,.6)}

/* video page */
.video-page{padding:140px 20px 80px;max-width:1100px;margin:0 auto;text-align:center}
.video-wrap{background:#000;border-radius:12px;padding:8px;max-width:960px;margin:0 auto}
.video-wrap video{width:100%;height:auto;max-height:70vh;display:block}
.video-desc{margin-top:12px;color:var(--muted);font-size:1rem}

/* ---------- RESPONSIVE (mobile layout) ---------- */
@media (max-width:900px){
  .hamburger{display:inline-flex}
  .nav-list{display:none} /* replaced by mobile dropdown */
  .site-header{height:64px;padding:0 14px}
  main{padding-top:64px}

  .carousel--full{height:calc(100vh - 100px)}
  .carousel--gallery{height:45vh}
  .carousel-title{font-size:1.4rem}
  .carousel-desc{font-size:.95rem}

  /* overlay smaller on mobile: less padding and smaller text */
  .carousel-overlay{justify-content:flex-end}
  .carousel-bottom{padding:12px 16px}
  .carousel-text a{padding:6px 12px}
  .carousel-title{font-size:1.2rem}
  .carousel-desc{font-size:.9rem}

  /* mobile dropdown overlay (appears under header, absolute but not pushing content) */
  .mobile-dropdown {
    position: absolute;
    align-items: center;
    justify-content: center;
    gap: 40px;
    top: 60px;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.8);
    z-index:2350;
    display:none;
    padding:8px 12px;
  }
  .mobile-dropdown.open{display:flex}

  .mobile-dropdown a,
  .mobile-dropdown a:link,
  .mobile-dropdown a:visited {
    display:block;
    color:#fff;
    text-decoration:none;
    padding:12px 8px;
    border-radius:8px;
    border-bottom:1px solid rgba(255,255,255,0.03);
    font-weight:700;
  }
  .mobile-dropdown a:hover{
    background: rgba(255,255,255,0.03);
    box-shadow: 0 8px 28px rgba(255,221,85,0.08);
  }
}


/* ðŸ”§ FIX layout: rimuovi spazio sotto header */
header {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

main, section, .carousel-container {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

body {
  overflow-x: hidden;
}


/* --------- PLAYER -------- */
/* --- Modifiche per Gallery double-player --- */
.gallery-player { position: relative; width: 100%; height: 100%; display:block; }
.gallery-player .gallery-video { display:block; width:100%; height:100%; object-fit:cover; transition:opacity .6s ease; background:#000; }
.gallery-player .layer-a, .gallery-player .layer-b { position:absolute; inset:0; width:100%; height:100%; z-index:1; top:0; left:0; }
.gallery-player .layer-a { z-index:2; opacity:1; }
.gallery-player .layer-b { z-index:1; opacity:0; }

/* overlay styling minor tweak */
.gallery-overlay .carousel-text { text-align:center; }
.gallery-overlay .carousel-title { font-size:1.25rem; font-weight:700; text-transform:none; color:#fff; }

/* ===== Gallery player: progress bar + click-to-play tweaks ===== */
.gallery-player { position: relative; width: 100%; height: 100%; display:block; cursor: pointer; }
.gallery-player .gallery-video { display:block; width:100%; height:100%; object-fit:cover; transition:opacity .6s ease; background:#000; }
.gallery-player .layer-a, .gallery-player .layer-b { position:absolute; inset:0; width:100%; height:100%; z-index:1; top:0; left:0; }
.gallery-player .layer-a { z-index:2; opacity:1; pointer-events:auto; }
.gallery-player .layer-b { z-index:1; opacity:0; pointer-events:none; }

/* progress bar (thin full-width at bottom) */
.progress-wrap {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 4px;
  background: rgba(255,255,255,0.04);
  z-index: 12;
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  overflow: hidden;
}
.progress-bar {
  width: 0%;
  height: 100%;
  background: linear-gradient(90deg, var(--accent), rgba(255,221,85,0.6));
  transition: width 120ms linear; /* will be updated via JS for smooth linear progress */
  will-change: width;
}

/* ensure overlay controls still receive pointer events */
.carousel-overlay.gallery-overlay { pointer-events: none; }
.carousel-overlay.gallery-overlay .carousel-bottom { pointer-events: auto; }

/* on small screens keep progress visible and not too big */
@media (max-width:900px){
  .progress-wrap{height:3px}
}

/* keep existing grid and category styles intact (no overrides) */

/* ---------------- Global accent change ---------------- */
:root {
  --accent: #db4338; /* nuovo colore accent globale */
}

/* ===== Gallery player: progress bar + buffer + click-to-play/pause UI ===== */
.gallery-player { position: relative; width: 100%; height: 100%; display:block; cursor: pointer; }
.gallery-player .gallery-video { display:block; width:100%; height:100%; object-fit:cover; transition:opacity .6s ease, transform .6s ease; background:#000; }
.gallery-player .layer-a, .gallery-player .layer-b { position:absolute; inset:0; width:100%; height:100%; z-index:1; top:0; left:0; }
.gallery-player .layer-a { z-index:2; opacity:1; pointer-events:auto; transform: scale(1); }
.gallery-player .layer-b { z-index:1; opacity:0; pointer-events:none; transform: scale(1); }

/* progress & buffer */
.progress-wrap {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 5px;
  background: rgba(255,255,255,0.03);
  z-index: 30;
  overflow: hidden;
}
.progress-buffer {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 0%;
  background: rgba(255,255,255,0.08); /* colore del buffer (piÃ¹ chiaro) */
  transition: width 220ms linear;
  z-index: 31;
}
.progress-bar {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 0%;
  background: linear-gradient(90deg, var(--accent), rgba(219,67,56,0.7));
  transition: width 120ms linear;
  will-change: width;
  z-index: 32;
}

/* play/pause overlay (icon centrato, zoom + fade) */
.play-overlay {
  position: absolute;
  inset: 0; /* center via flex */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 40;
  pointer-events: none;
}
.play-overlay .icon-play,
.play-overlay .icon-pause {
  color: rgba(255,255,255,0.95);
  filter: drop-shadow(0 10px 30px rgba(0,0,0,0.6));
  transition: transform 420ms cubic-bezier(.22,.9,.3,1), opacity 420ms ease;
  transform-origin: center;
}

/* state classes toggled by JS */
.play-overlay.show { pointer-events: none; }
.play-overlay.animate-in .icon-play,
.play-overlay.animate-in .icon-pause {
  transform: scale(1.05);
  opacity: 1;
}
.play-overlay.animate-out .icon-play,
.play-overlay.animate-out .icon-pause {
  transform: scale(1.3);
  opacity: 0;
}

/* paused state: show pause icon visibly */
.play-overlay.paused .icon-play { display: none; }
.play-overlay.paused .icon-pause { display: block; transform: scale(1); opacity: 1; }

/* when playing briefly show a playing flash (zoom out & fade) */
.play-overlay.transient { pointer-events: none; }

/* make sure overlay icons are hidden by default (they're toggled by JS) */
.play-overlay .icon-play { display: block; opacity: 0; transform: scale(0.9); }
.play-overlay .icon-pause { display: none; opacity: 0; transform: scale(0.9); }

/* ---------------- Grid thumbnails: blend into background + glow on hover ---------------- */
/* rendi i video della griglia piÃ¹ "parte dello sfondo" */
.grid-item {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
  border: 1px solid rgba(255,255,255,0.03);
  overflow: hidden;
  position: relative;
  transition: transform .28s, box-shadow .28s, background .28s;
}

/* rendi la miniatura leggermente desaturata e scura per sembrare "parte dello sfondo" */
.grid-item video {
  filter: grayscale(8%) contrast(0.92) brightness(0.9);
  transition: transform .6s cubic-bezier(.2,.9,.3,1), filter .28s;
}

/* glow on hover: aumenta saturazione e aggiungi glow */
.grid-item:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 22px 60px rgba(0,0,0,0.7);
}
.grid-item:hover video {
  transform: scale(1.06);
  filter: grayscale(0%) contrast(1.02) brightness(1.02) saturate(1.06);
}

/* aggiungi un leggero glow colorato alla miniatura al passaggio */
.grid-item::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: 10px;
  box-shadow: 0 0 0 0 rgba(219,67,56,0);
  transition: box-shadow .28s ease;
}
.grid-item:hover::after {
  box-shadow: 0 12px 40px rgba(219,67,56,0.12);
}

/* keep category buttons / grid styles intact (no override) */
